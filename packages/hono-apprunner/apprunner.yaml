version: 1.0
runtime: nodejs22
build:
  commands:
    build:
      - echo "Installing dependencies"
      - npm install
      - echo "Building application"
      - npm run build
run:
  command: npm start
  network:
    port: 8080
  env:
    - name: PORT
      value: "8080"
  secrets:
    - name: DB_HOST
      value: "forapprunner.cluster-cp2ai8qycrin.ap-northeast-1.rds.amazonaws.com"
    - name: DB_USER
      value-from: "arn:aws:secretsmanager:ap-northeast-1:495236580548:secret:rds!cluster-4d6bb964-0cf6-471a-8865-a684ea85c653-rHmsS3:username::"
    - name: DB_PASSWORD
      value-from: "arn:aws:secretsmanager:ap-northeast-1:495236580548:secret:rds!cluster-4d6bb964-0cf6-471a-8865-a684ea85c653-rHmsS3:password::"
    - name: DB_NAME
      value: "apprunner"
